<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Riski Septianto">
    <title>CV Riski Septianto</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        #pdf img { image-rendering: -webkit-optimize-contrast; }
        @media print {
            body { width: 210mm; height: 297mm; }
            .no-print { display: none; }
        }

        @media (max-width: 768px) {
            #preview { width: 100%; height: auto; }
        }

        .btn {
            padding: 10px 20px;
            background-color: blue;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .btn:disabled {
            background-color: grey;
            cursor: not-allowed;
        }

        #popupContainer, #recorderContainer, #cameraContainer {
            margin-top: 20px;
        }

        video, img {
            border: 1px solid black;
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body id="pdf">
    <header>
        <div class="container-fluid bg-primary text-white py-3 d-flex flex-column align-items-center">
            <img src="Riski Septianto.png" alt="Riski Septianto Pic" class="rounded-circle mb-2" style="width: 100px; height: 100px;">
            <h3 class="text-center">RISKI SEPTIANTO</h3>
        </div>
    </header>

    <div class="container mt-4">
        <div class="d-flex justify-content-center no-print">
            <div class="btn-group">
                <button type="button" class="btn btn-primary" id="homeBtn">HOME</button>
                <button type="button" class="btn btn-primary" id="aboutBtn">ABOUT</button>
                <button id="btn-download" type="button" class="btn btn-primary">PDF</button>
            </div>
        </div>

        <!-- Pop-up Modal -->
        <div id="popupContainer" class="modal fade" tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Pilih Mode</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="d-flex justify-content-around">
                            <button type="button" class="btn btn-primary w-100 mx-1" id="cameraBtn">Ambil Gambar</button>
                            <button type="button" class="btn btn-primary w-100 mx-1" id="videoBtn">Rekam Video</button>
                        </div>
                        <!-- Camera Container -->
                        <div id="cameraContainer" class="mt-4" style="display: none;">
                            <video id="cameraVideo" autoplay></video>
                            <div class="d-flex justify-content-around mt-2">
                                <button id="captureBtn" class="btn btn-success">Capture</button>
                                <button id="stopCameraBtn" class="btn btn-danger">Stop Camera</button>
                            </div>
                            <img id="capturedImage" src="" alt="Captured Image" class="mt-3">
                        </div>
                        <!-- Recorder Container -->
                        <div id="recorderContainer" class="mt-4" style="display: none;">
                            <video id="video" autoplay></video>
                            <div class="d-flex justify-content-around mt-2">
                                <button id="startBtn" class="btn btn-success">Start Recording</button>
                                <button id="stopBtn" class="btn btn-danger" disabled>Stop Recording</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('homeBtn').addEventListener('click', () => {
            const popupContainer = new bootstrap.Modal(document.getElementById('popupContainer'));
            popupContainer.show();
        });

        document.getElementById('cameraBtn').addEventListener('click', () => {
            const cameraContainer = document.getElementById('cameraContainer');
            cameraContainer.style.display = 'block';
            document.getElementById('recorderContainer').style.display = 'none';

            const video = document.getElementById('cameraVideo');
            navigator.mediaDevices.getUserMedia({ video: true })
                .then(stream => {
                    video.srcObject = stream;
                });

            document.getElementById('captureBtn').addEventListener('click', () => {
                const canvas = document.createElement('canvas');
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                const context = canvas.getContext('2d');
                context.drawImage(video, 0, 0, canvas.width, canvas.height);
                const image = canvas.toDataURL('image/png');
                document.getElementById('capturedImage').src = image;
                const a = document.createElement('a');
                a.href = image;
                a.download = 'captured_image.png';
                a.click();
            });

            document.getElementById('stopCameraBtn').addEventListener('click', () => {
                const stream = video.srcObject;
                const tracks = stream.getTracks();
                tracks.forEach(track => track.stop());
                video.srcObject = null;
                cameraContainer.style.display = 'none';
            });
        });

        document.getElementById('videoBtn').addEventListener('click', () => {
    const recorderContainer = document.getElementById('recorderContainer');
    recorderContainer.style.display = 'block';
    document.getElementById('cameraContainer').style.display = 'none';

    const video = document.getElementById('video');
    const startBtn = document.getElementById('startBtn');
    const stopBtn = document.getElementById('stopBtn');
    let mediaRecorder;
    let recordedChunks = [];

    navigator.mediaDevices.getUserMedia({ 
        video: { 
            width: { ideal: 3840 }, 
            height: { ideal: 2160 }
        }, 
        audio: true 
    }).then(stream => {
        video.srcObject = stream;

        mediaRecorder = new MediaRecorder(stream);

        mediaRecorder.ondataavailable = (event) => {
            if (event.data.size > 0) {
                recordedChunks.push(event.data);
            }
        };

        mediaRecorder.onstop = () => {
            const blob = new Blob(recordedChunks, {
                type: 'video/webm'
            });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.style.display = 'none';
            a.href = url;
            a.download = 'recording_4k.webm';
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
        };
    });

    startBtn.addEventListener('click', () => {
        mediaRecorder.start();
        startBtn.disabled = true;
        stopBtn.disabled = false;
    });

    stopBtn.addEventListener('click', () => {
        mediaRecorder.stop();
        startBtn.disabled = false;
        stopBtn.disabled = true;
    });
});

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
